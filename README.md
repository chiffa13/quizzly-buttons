# Helpers

- Board name ESP32-WROOM-DA from esp32 packege

### Used libraries:

- FastLED

# Состояния кнопок

Чтобы уменьшить количество посылаемых сообщений, кнопка может находиться в одном из следующих состояний:

- **ENABLED** - кнопка реагирует на нажатие;
- **DISABLED** - кнопка не реагирует на нажатие;
- **BLOCKED** - кнопка заблокирована и не реагирует на сообщения ENABLE и DISABLE;

# Команды

Команды поступают на приемник-передатчик (esb-receiver) с компьютера по виртуальному com-порту.
Передатчик проверяет проверяет что команда начинается с **BUTTON\_** и в случае успеха отправляет в эфир.

### BUTTON_GET_ID

При получении этой команды, кнопка отвечает **BUTTON_ID:btn_id**, где _btn_id_ - ID кнопки.
Все получившие команду кнопки вернут свой ID.

### BUTTON_SET_ID:btn_id

Команда задаёт ID кнопки. Полученное значение сохраняется в энергонезависимую память и загружается при включении.
Кнопки не проверяют наличие ID в команде, поэтому все услышавшие эту команду кнопки сменят свой ID.

_btn_id_ - String, должна быть уникальна для каждой кнопки;

### BUTTON_LED_COLOR:btn_id:colorRed:colorGreen:colorBlue

Команда задаёт цвет кнопки. Цвет сохраняется в энергонезависимую память и загружается при включении.

_btn_id_ - ID кнопки, цвет которой нужно задать;

_colorRed_ - яркость свечения красным. Byte (целое от 0 до 255);

_colorGreen_ - яркость свечения зелёным. Byte (целое от 0 до 255);

_colorBlue_ - яркость свечения синим. Byte (целое от 0 до 255);

### BUTTON_LED_ON:btn_id

Команда включает подсветку.

_btn_id_ - ID кнопки.

### BUTTON_LED_OFF:btn_id

Команда выключает подсветку.

_btn_id_ - ID кнопки.

### BUTTON_WINNER_FLASH:btn_id

При получении этой команды, кнопка начинает мигать разными цветами ~6 секунд. В конце гаснет.

_btn_id_ - ID кнопки.

# Команды, действующие на все кнопки

### ALL_BUTTONS_ENABLED

Все кнопки реагируют на нажатие.

### ALL_BUTTONS_DISABLE

Все кнопки не реагируют на нажатие.

### ALL_BUTTONS_BLOCKED

Все кнопки заблокированы.

### ALL_BUTTONS_UNBLOCK

Разблокирует все кнопки.
